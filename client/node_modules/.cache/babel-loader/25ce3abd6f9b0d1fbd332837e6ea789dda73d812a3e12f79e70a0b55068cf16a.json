{"ast":null,"code":"import _defineProperty from\"/home/jobu/Development/deploy-auto-spares-project/phase-4-Automotive-SparesParts-Flask-React-App-project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/jobu/Development/deploy-auto-spares-project/phase-4-Automotive-SparesParts-Flask-React-App-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/jobu/Development/deploy-auto-spares-project/phase-4-Automotive-SparesParts-Flask-React-App-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import ManipulateAccessory from'./ManipulateAccessory';// import Search from './search'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AccessoryList=function AccessoryList(_ref){var id=_ref.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// const[searchTerm, setSearchTerm]=useState(\"\")\nvar _useState3=useState({location:\"\",accessories:\"\",description:\"\",price:\"\",image:\"\"}),_useState4=_slicedToArray(_useState3,2),patch=_useState4[0],setPatch=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showForm=_useState6[0],setShowForm=_useState6[1];useEffect(function(){fetch('http://127.0.0.1:5555/showroom').then(function(r){return r.json();}).then(function(data){return setData(data);});},[]);function deleteAccessory(id){fetch(\"http://127.0.0.1:5555/showroom/\".concat(id),{method:\"DELETE\"}).then(function(resp){return resp.json();}).then(function(){var updatedAccessories=data.filter(function(data){return data.id!==id;});setData(updatedAccessories);});}function handleOnChange(event){setPatch(_objectSpread(_objectSpread({},patch),{},_defineProperty({},event.target.name,event.target.value)));}function updateAccessory(id){fetch(\"http://127.0.0.1:5555/showroom/\".concat(id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(patch)}).then(function(resp){return resp.json();}).then(function(updatedAccessory){var update=data.map(function(item){if(item.id===updatedAccessory.id)return updatedAccessory;return item;});setData(update);});}var toggleForm=function toggleForm(){setShowForm(!showForm);};var access=data.map(function(item,index){return/*#__PURE__*/_jsx(ManipulateAccessory,{id:item.id,updateAccessory:updateAccessory,toggleForm:toggleForm,deleteAccessory:deleteAccessory,location:item.location,price:item.price,description:item.description,image:item.image},index);});//  const displayedAccessories = data.filter((accessory) => {\n//   return accessory.name.toLowerCase().includes(searchTerm.toLowerCase());\n// });\n// if(!data) return <h1>...loading</h1>\n// console.log(displayedAccessories);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"charac\",children:[access,showForm&&/*#__PURE__*/_jsxs(\"form\",{className:\"accessory-form\",onSubmit:updateAccessory,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleOnChange,type:\"text\",name:\"location\",value:patch.location,placeholder:\"location\"// required\n}),/*#__PURE__*/_jsx(\"input\",{onChange:handleOnChange,type:\"text\",name:\"accessories\",value:patch.accessories,placeholder:\"accessory\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleOnChange,type:\"text\",name:\"description\",value:patch.description,placeholder:\"description\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleOnChange,type:\"text\",name:\"price\",value:patch.price,placeholder:\"price\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleOnChange,type:\"text\",name:\"image\",value:patch.image,placeholder:\"image\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Update\"})]})]});};export default AccessoryList;","map":{"version":3,"names":["React","useEffect","useState","ManipulateAccessory","jsx","_jsx","jsxs","_jsxs","AccessoryList","_ref","id","_useState","_useState2","_slicedToArray","data","setData","_useState3","location","accessories","description","price","image","_useState4","patch","setPatch","_useState5","_useState6","showForm","setShowForm","fetch","then","r","json","deleteAccessory","concat","method","resp","updatedAccessories","filter","handleOnChange","event","_objectSpread","_defineProperty","target","name","value","updateAccessory","headers","body","JSON","stringify","updatedAccessory","update","map","item","toggleForm","access","index","className","children","onSubmit","onChange","type","placeholder"],"sources":["/home/jobu/Development/deploy-auto-spares-project/phase-4-Automotive-SparesParts-Flask-React-App-project/client/src/AccessoryList.js"],"sourcesContent":["import React, { useEffect, useState} from 'react'\nimport ManipulateAccessory from './ManipulateAccessory'\n// import Search from './search'\n\nconst AccessoryList = ({id})=> {\n    const [data, setData] = useState([])\n    // const[searchTerm, setSearchTerm]=useState(\"\")\n    const[patch,setPatch]=useState({\n        location: \"\", \n        accessories: \"\",\n        description: \"\",\n        price: \"\",\n        image: \"\",\n    })\n    const [showForm, setShowForm] = useState(false);\n\n    \nuseEffect(()=>{\n    fetch('http://127.0.0.1:5555/showroom')\n    .then(r => r.json())\n    .then(data =>setData(data))\n},[])\n\nfunction deleteAccessory(id){\n    fetch(`http://127.0.0.1:5555/showroom/${id}`,{\n      method: \"DELETE\",\n    })\n    .then(resp => resp.json())\n    .then(() =>{\n      const updatedAccessories= data.filter((data)=> data.id !== id)\n      setData(updatedAccessories)\n    })\n   }\nfunction handleOnChange(event) {\n    setPatch({\n      ...patch,\n      [event.target.name]: event.target.value,\n    })\n  }\nfunction updateAccessory(id){\n    fetch(`http://127.0.0.1:5555/showroom/${id}`,{\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(patch)\n    })\n    .then(resp => resp.json())\n    .then(updatedAccessory =>{\n      const update= data.map((item)=>{\n        if(item.id === updatedAccessory.id) return updatedAccessory\n        return item\n      })\n      setData(update)\n    })\n   }\n   const toggleForm = () => {\n    setShowForm(!showForm);\n   }\n  \n   const access= data.map((item,index) =>\n <ManipulateAccessory key={index} id={item.id} updateAccessory={updateAccessory} toggleForm={toggleForm} deleteAccessory={deleteAccessory} location={item.location} price={item.price} description={item.description} image={item.image}/>\n  \n )\n//  const displayedAccessories = data.filter((accessory) => {\n//   return accessory.name.toLowerCase().includes(searchTerm.toLowerCase());\n// });\n\n// if(!data) return <h1>...loading</h1>\n// console.log(displayedAccessories);\n   \n\nreturn (\n    <div className='charac'>\n      {/* <Search searchTerm={searchTerm} onSearchChange={setSearchTerm}/> */}\n      {/* <ManipulateAccessory data={displayedAccessories}/> */}\n        {access}\n        {/* <button onClick={toggleForm} className=\"btn\">\n        Update\n      </button> */}\n      {showForm && (\n        <form className=\"accessory-form\" onSubmit={updateAccessory}>\n          <input\n            onChange={handleOnChange}\n            type=\"text\"\n            name=\"location\"\n            value={patch.location}\n            placeholder=\"location\"\n            // required\n          />\n          <input\n            onChange={handleOnChange}\n            type=\"text\"\n            name=\"accessories\"\n            value={patch.accessories}\n            placeholder=\"accessory\"\n          />\n          <input\n            onChange={handleOnChange}\n            type=\"text\"\n            name=\"description\"\n            value={patch.description}\n            placeholder=\"description\"\n          />\n          <input\n            onChange={handleOnChange}\n            type=\"text\"\n            name=\"price\"\n            value={patch.price}\n            placeholder=\"price\"\n          />\n          <input\n            onChange={handleOnChange}\n            type=\"text\"\n            name=\"image\"\n            value={patch.image}\n            placeholder=\"image\"\n          />\n          <button type=\"submit\" className='btn'>Update</button>\n        </form>\n      )}\n\n    </div>\n)\n\n}\n\nexport default AccessoryList\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}